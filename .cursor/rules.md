# 微信小程序开发规范

## 代码风格
1. **文件命名**: 使用小写字母和连字符，如 `city-search.wxml`
2. **变量命名**: 使用驼峰命名法，如 `currentCityTime`
3. **组件命名**: 使用前缀，如 `wt-` 表示 WorldTime 组件
4. **注释规范**: 每个函数都需要JSDoc注释，复杂逻辑添加行注释

## 技术规范
1. **数据管理**: 使用data管理状态，复杂状态使用store模式
2. **事件处理**: 使用WXS处理复杂交互，避免频繁setData
3. **性能优化**: 
   - 使用虚拟列表处理长列表
   - 避免在scroll-view中嵌套过多元素
   - 使用图片懒加载
4. **错误处理**: 所有异步操作都需要catch错误并提示用户

## API规范
1. **云函数**: 统一错误码和返回格式
2. **第三方API**: 使用封装函数，便于更换数据源
3. **本地存储**: 使用wx.setStorage同步，重要数据加密存储

## UI/UX规范
1. **设计系统**: 使用一致的色彩、间距、字体大小
2. **加载状态**: 所有异步操作都要显示加载状态
3. **空状态**: 列表为空时显示友好的空状态提示
4. **错误状态**: 网络错误或API错误时提供重试机制

## 微信平台规范
1. **隐私协议**: 收集用户数据前必须获取授权
2. **内容安全**: 用户生成内容需要过滤和审核
3. **性能指标**: 关注启动时间、渲染性能、内存使用