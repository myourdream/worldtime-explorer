<!-- components/city-card/city-card.wxml -->
<view class="city-card {{isFavorite ? 'favorite' : ''}} {{isSelected ? 'selected' : ''}}" 
      bindlongpress="onLongPress" 
      bindtap="onTap">
  
  <!-- åŸå¸‚ä¿¡æ¯å¤´éƒ¨ -->
  <view class="city-header">
    <view class="city-info">
      <view class="city-name">{{cityData.name}}</view>
      <view class="city-country">{{cityData.country}}</view>
    </view>
    <view class="city-actions">
      <view class="favorite-btn {{isFavorite ? 'active' : ''}}" 
            bindtap="toggleFavorite" 
            catchtap="true">
        <text class="icon-heart">{{isFavorite ? 'â¤ï¸' : 'ğŸ¤'}}</text>
      </view>
      <view class="remove-btn" 
            bindtap="removeCity" 
            catchtap="true"
            wx:if="{{showRemove}}">
        <text class="icon-close">âœ•</text>
      </view>
    </view>
  </view>

  <!-- æ—¶é—´æ˜¾ç¤ºåŒºåŸŸ -->
  <view class="time-section">
    <time-display 
      time="{{currentTime}}" 
      timezone="{{cityData.timezone}}"
      format="{{timeFormat}}"
      show-seconds="{{showSeconds}}">
    </time-display>
  </view>

  <!-- æ—¶åŒºä¿¡æ¯ -->
  <view class="timezone-info">
    <view class="timezone-name">{{cityData.timezone}}</view>
    <view class="timezone-offset">{{timezoneOffset}}</view>
  </view>

  <!-- æ—¥æœŸä¿¡æ¯ -->
  <view class="date-section">
    <view class="date-display">{{formattedDate}}</view>
    <view class="day-of-week">{{dayOfWeek}}</view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-overlay" wx:if="{{isLoading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- é”™è¯¯çŠ¶æ€ -->
  <view class="error-overlay" wx:if="{{hasError}}">
    <text class="error-icon">âš ï¸</text>
    <text class="error-text">{{errorMessage}}</text>
    <button class="retry-btn" bindtap="retryLoad" size="mini">é‡è¯•</button>
  </view>
</view>
