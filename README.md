# 世界时间查看器 - 多平台版本

一个功能强大的时间查看应用，支持微信小程序和Web版本，用于查看全球主要城市的实时时间，支持城市搜索和时区转换功能。

## 🌟 功能特性

### 主要功能
- **实时时间显示**: 显示全球主要城市的实时时间，自动更新
- **城市搜索**: 支持搜索全球城市并显示时间信息
- **时区转换**: 在不同时区间转换时间
- **收藏功能**: 收藏喜欢的城市，快速访问
- **自定义时间**: 支持自定义时间进行时区转换

### 技术特性
- **多平台支持**: 同时支持微信小程序和Web应用
- **组件化开发**: 使用可复用的组件架构
- **现代UI设计**: 卡片布局、渐变背景、平滑动画
- **响应式设计**: 适配不同屏幕尺寸
- **性能优化**: 防抖搜索、缓存机制、懒加载

## 📱 平台支持

### 微信小程序版本
- 位置：`miniprogram/` 目录
- 技术栈：WXML, WXSS, JavaScript + 微信云开发
- 功能：完整的时间查看、搜索、转换功能

### Web应用版本
- 位置：`web/` 目录
- 技术栈：React + TypeScript + Tailwind CSS + Vite
- 功能：与小程序功能对等的Web版本

## 🏗️ 项目架构

```
worldtime-explorer/
├── miniprogram/          # 微信小程序代码
│   ├── pages/           # 页面
│   ├── components/     # 组件
│   ├── utils/          # 工具函数
│   ├── cloudfunctions/ # 云函数
│   └── images/         # 图片资源
├── web/                # Web应用代码
│   ├── src/
│   │   ├── components/ # React组件
│   │   ├── pages/      # 页面组件
│   │   ├── store/      # 状态管理
│   │   └── main.tsx    # 应用入口
│   ├── package.json    # 依赖配置
│   └── vite.config.ts  # 构建配置
├── shared/             # 共享代码
│   ├── timezone.ts     # 时区工具函数
│   └── constants.ts    # 常量定义
├── docs/               # 文档
├── scripts/            # 构建脚本
├── .github/            # GitHub Actions
└── vercel.json         # Vercel配置
```

## 🚀 快速开始

### Web版本开发

1. **安装依赖**
   ```bash
   cd web
   npm install
   ```

2. **启动开发服务器**
   ```bash
   npm run dev
   ```

3. **构建生产版本**
   ```bash
   npm run build
   ```

### 微信小程序开发

1. **导入项目**
   - 打开微信开发者工具
   - 选择"导入项目"
   - 选择 `miniprogram` 目录

2. **配置云开发**
   - 在微信开发者工具中开通云开发
   - 获取云开发环境ID
   - 更新 `miniprogram/app.js` 中的环境ID

3. **部署云函数**
   ```bash
   cd miniprogram/cloudfunctions/get-world-time
   npm install
   
   cd ../search-cities
   npm install
   ```

## 🌐 部署

### Web版本部署到Vercel

1. **配置环境变量**
   - `VERCEL_TOKEN`: Vercel API Token
   - `VERCEL_ORG_ID`: Vercel组织ID
   - `VERCEL_PROJECT_ID`: Vercel项目ID

2. **自动部署**
   - 推送代码到GitHub main分支
   - GitHub Actions会自动构建并部署到Vercel

3. **手动部署**
   ```bash
   cd web
   npm run build
   vercel --prod
   ```

## 📖 使用说明

### Web版本使用
1. 访问部署的Web应用
2. 查看主要城市的实时时间
3. 使用搜索功能添加新城市
4. 使用时区转换功能
5. 管理收藏的城市

### 微信小程序使用
1. 在微信中搜索小程序
2. 查看主要城市的实时时间
3. 使用搜索功能添加新城市
4. 使用时区转换功能
5. 管理收藏的城市

## 🎨 设计特色

### 视觉设计
- **渐变背景**: 使用紫色渐变背景，营造现代感
- **卡片布局**: 采用卡片式设计，层次分明
- **圆角设计**: 统一的圆角风格，视觉柔和
- **阴影效果**: 适当的阴影增加层次感

### 交互设计
- **平滑动画**: 页面切换和元素动画流畅
- **反馈机制**: 操作反馈及时，用户体验良好
- **加载状态**: 完善的加载和错误状态处理
- **响应式**: 适配不同屏幕尺寸

## 🔧 技术栈

### Web版本
- **前端框架**: React 18 + TypeScript
- **状态管理**: Zustand
- **UI组件**: Tailwind CSS + Headless UI
- **时间处理**: date-fns + Intl API
- **构建工具**: Vite
- **部署**: Vercel

### 微信小程序版本
- **前端**: WXML, WXSS, JavaScript
- **组件**: 微信小程序自定义组件
- **云开发**: 微信云函数
- **工具库**: 自定义时区工具函数

## 📊 性能优化

### Web版本优化
- **代码分割**: 按需加载组件
- **缓存策略**: 本地存储用户偏好
- **防抖搜索**: 避免频繁搜索请求
- **懒加载**: 按需加载数据

### 小程序版本优化
- **防抖搜索**: 避免频繁搜索请求
- **缓存机制**: 本地存储用户偏好和搜索历史
- **懒加载**: 按需加载组件和数据
- **定时器管理**: 合理管理定时器，避免内存泄漏

## 🐛 问题排查

### 常见问题

1. **时间显示不正确**
   - 检查时区设置
   - 确认网络连接
   - 查看控制台错误信息

2. **搜索功能异常**
   - 检查网络连接
   - 确认搜索关键词格式
   - 查看控制台错误信息

3. **页面加载缓慢**
   - 检查网络状况
   - 优化图片资源
   - 减少不必要的请求

## 🔮 未来规划

### 功能扩展
- [ ] 添加更多城市和时区
- [ ] 支持多语言界面
- [ ] 添加时间提醒功能
- [ ] 支持自定义主题
- [ ] 添加离线模式

### 技术优化
- [ ] 优化性能
- [ ] 添加单元测试
- [ ] 支持PWA
- [ ] 添加数据同步

## 📄 许可证

本项目采用 MIT 许可证，详情请查看 [LICENSE](LICENSE) 文件。

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来帮助改进项目。

### 贡献步骤
1. Fork 本项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 Issue
- 发送邮件
- 微信联系

---

**世界时间查看器** - 让时间管理更简单，让世界更近一步！